<html>
	<head>
		<style>
        body {
            /* set margin to 0 and overflow to hidden, to go fullscreen */
            margin: 0;
            overflow: hidden;
        }
    </style>
		<script src="libs/three.min.js"></script>
		<script src="libs/dat.gui.min.js"></script>
	</head>
	<body>
<script>
			// uma cena
			var myscene = new THREE.Scene();
			
			// uma câmara
			// new THREE.PerspectiveCamera( fov, largura / altura, near, far )
			var mycamera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 1, 1000 );
			mycamera.position.set(3,3,3);
			mycamera.lookAt(new THREE.Vector3( -1, -1, -1 ));
			myscene.add( mycamera );
			
			
			// um renderer
			var myrenderer = new THREE.WebGLRenderer();
			myrenderer.setSize(window.innerWidth,window.innerHeight);
			myrenderer.setClearColor(0xAAAAAA, 1);
			
			// colocar o canvas / resultado do renderer na página
			var mycanvas = myrenderer.domElement;
			document.body.appendChild(mycanvas);
			
			// criar uns eixos
			myaxis = new THREE.AxisHelper(20);
			myscene.add(myaxis);

			//geometria
			objectog = new THREE.Geometry();
			
			//definir vertices
			v0 = new THREE.Vector3(  0.5,  0.5,  0.5 );
			v1 = new THREE.Vector3(  0.5, -0.5,  0.5 );
			v2 = new THREE.Vector3( -0.5, -0.5,  0.5 );
			v3 = new THREE.Vector3( -0.5,  0.5,  0.5 );
			v4 = new THREE.Vector3(  0.5,  0.5, -0.5 );
			v5 = new THREE.Vector3(  0.5, -0.5, -0.5 );
			v6 = new THREE.Vector3( -0.5, -0.5, -0.5 );
			v7 = new THREE.Vector3( -0.5,  0.5, -0.5 );

			
			//carregar vertices
			objectog.vertices.push(v0); //0
			objectog.vertices.push(v1);
			objectog.vertices.push(v2);
			objectog.vertices.push(v3);
			objectog.vertices.push(v4);
			objectog.vertices.push(v5);
			objectog.vertices.push(v6);
			objectog.vertices.push(v7); //7

			//definir as faces
			face00 = new THREE.Face3(0,2,1);
			face01 = new THREE.Face3(0,3,2);


			// face10 = new THREE.Face3(4,0,5);
			// face11 = new THREE.Face3(0,1,5);

			// face20 = new THREE.Face3(7,4,6);
			// face21 = new THREE.Face3(4,5,6);

			// face30 = new THREE.Face3(3,7,6);
			// face31 = new THREE.Face3(6,2,3);

			// face40 = new THREE.Face3(0,4,7);
			// face41 = new THREE.Face3(7,3,0);

			// face50 = new THREE.Face3(2,5,1);
			// face51 = new THREE.Face3(2,6,5);
	

			// carregar as faces
			objectog.faces.push(face00);
			objectog.faces.push(face01);
			// objectog.faces.push(face10);
			// objectog.faces.push(face11);
			// objectog.faces.push(face20);
			// objectog.faces.push(face21);
			// objectog.faces.push(face30);
			// objectog.faces.push(face31);
			// objectog.faces.push(face40);
			// objectog.faces.push(face41);
			// objectog.faces.push(face50);
			// objectog.faces.push(face51);


			// textura
		 	var mapUrl = "images/molumen_small_funny_angry_monster.jpg";
		 	var map = THREE.ImageUtils.loadTexture(mapUrl);


		 	//coordenadas UV
			var uv00 = new THREE.Vector2(0,0);
			var uv10 = new THREE.Vector2(1,0);
			var uv01 = new THREE.Vector2(0,1);
			var uv11 = new THREE.Vector2(1,1);


			//coordenadas tex
			objectog.faceVertexUvs[0].push([uv01.clone(),uv10.clone(),uv11.clone()]);
			objectog.faceVertexUvs[0].push([uv01.clone(),uv00.clone(),uv10.clone()]);


			//material
			objectom = new THREE.MeshBasicMaterial( {color:0xFFAAAA, map:map} );

			//mesh
			objecto = new THREE.Mesh(objectog, objectom);

			myscene.add(objecto);

			// fazer o render
			//debugger;
			
			var guirc = new dat.GUI();
			
			// objecto	
			var rotControls = {
				rotx:0.0,
				roty:0.0,
				rotz:0.0
			}

			guirc.add(rotControls,'rotx',-.25,.25).step(0.05);
			guirc.add(rotControls,'roty',-.25,.25).step(0.05);
			guirc.add(rotControls,'rotz',-.25,.25).step(0.05);
			
			function doRender() {
				requestAnimationFrame(doRender);
				objecto.rotation.x += rotControls.rotx;
				objecto.rotation.y += rotControls.roty;
				objecto.rotation.z += rotControls.rotz;
				myrenderer.render(myscene,mycamera);
			}
		 doRender();
</script>
	</body>
	</html>
